Introduzione bozza
Letteratura
Bitcoin
BitTorrent
Accumulatori crittografici
Crittosistemi distribuiti a soglia dinamica
Accumunet
Possibili espansioni
Conclusioni
Introduzione
Ad oggi il paradigma dei social network è quello, tipico di Internet, del server centrale che elabora tutte le richieste. Qualsiasi dato fra due persone della rete deve per forza passare da un punto centrale comune a tutti. Questo è vero per Facebook, Youtube e QZone: alcuni dei più grandi social network nel mondo. Ciò implica anche le società che li gestiscono sono responsabili dell’intero funzionamento. La capacità di trasmissione dati deve essere adeguata e i dati personali degli utenti devono essere al sicuro, inoltre deve essere sempre presente, anche per quanto definisce la legge, una moderazione del contenuto.
Per quanto riguarda la capacità di trasmissione, la società che volesse stabilire un nuovo social network ad oggi normalmente due possibilità: comprare delle macchine da gestire in proprio, ovvero affidarsi ai sempre più numerosi servizi di cloud e quindi avere una curva di spesa più morbida.
La sicurezza dei dati è un problema che fa sempre più discutere. Innanzitutto, creare un sistema informatico sicuro, non è mai semplice e in genere, richiede un dispendio di risorse non trascurabile. Inoltre, anche quando le misure di sicurezza informatica sui dati si rivelassero efficaci, il fatto stesso che si trovino in mano ad una singola persona le rende suscettibili se non altro a programmi di spionaggio governativi come apprendiamo dalla cronaca recente.
La moderazione dei contenuti oggi è in parte automatica, in parte affidata a filtri che sfruttano anche intelligenza artificiale molto avanzata e che si basano su modelli personalizzati a seconda dell’ambiente del social network. Tuttavia la moderazione manuale rimane un elemento importante, soggetto a opinioni e ai mutamenti della cultura e forse anche, filosoficamente, parte della discussione.
Il paradigma alternativo che vado a proporre si differenzia in particolar modo su questi tre punti. Si tratta di un social network distribuito con un elemento di centralità intrinseco e dinamico, in grado di aumentare la propria capacità trasmissiva in maniera proporzionale alla dimensione della rete, di poter garantire la sicurezza dei dati privati, e di stabilire una gerarchia di privilegi che permettono una moderazione dei contenuti.
Una capacità dinamica della rete è ottenibile grazie all’uso della ormai consolidata tecnologia di BitTorrent. In questo modo se un post diventa molto popolare, l’effetto immediato è che siano più persone a condividerlo, ogni persona mette a disposizione quindi la propria capacità trasmissiva contribuendo a quella totale per il dato elemento. Di contro, se un post ha poco interesse questo non pregiudica necessariamente la sua disponibilità, ma rendere lento lo scaricamento dal punto di vista dell’utente.
I dati privati per eccellenza sono relativi alla corrispondenza privata tra due utenti, la segretezza dei quali è tutelata già da molte carte fondamentali come La Costituzione italiana. Nel mio lavoro ho previsto che i messaggi vengano instradati nella rete cifrati con crittografia asimmetrica, quindi a possibilità di ingerenza da parte di autorità governative è esclusa, e il livello di sicurezza è teoricamente equivalente a quello di una qualunque trasmissione cifrata in quanto le chiavi private non vengono mai trasmesse.
La moderazione in un sistema distribuito è un concetto di nuova introduzione in questa tesi. Infatti a prima vista, in un sistema distribuito, tutti gli utenti hanno uguali privilegi in quanto devono aderire tutti allo stesso protocollo. Nella fattispecie questo rimane vero anche nel mio lavoro, tuttavia, nella fase di configurazione della rete, ho inserito un informazione segreta che permette di autenticare un gruppo iniziale di utenti. Questi utenti vengono riconosciuti da tutti come privilegiati e i programmi client danno loro automaticamente permessi aumentati. Tuttavia questa informazione segreta, non ha carattere strutturale, ma permette unicamente di far partire il sistema. L’insieme di utenti privilegiati è infatti dinamico e può essere cambiato una volta raggiunto un consenso.
Letteratura
I social network
Un social network è una piattaforma in cui costruire e mantenere una rete sociale tra conoscenti o persone con interessi comuni. Le connessioni avvengono quasi esclusivamente su internet e ad oggi, quasi esclusivamente sul web. I primi social network nascono da delle comunità online come Geocities, essi incoraggiavano gli utenti a pubblicare una pagina web di presentazione e a comunicare tramite altri protocolli come e-mail e chat. La comunicazione viene inglobata nei siti web durante gli anni 2000, prima sotto forma di commenti come in MySpace e poi simulando una chat come avviene oggi in Facebook. Man mano che i social network, in particolare proprio Facebook, accumulano centinaia di milioni di iscrizioni e di utenti, crescono le preoccupazioni sull’uso dei dati personali da parte dei gestori. Facebook è stato accusato varie volte di violare la privacy degli utenti per vari scopi tra cui quello di venderli. Questa è stata la spinta principale che ha causato il fiorire dei primi social network distribuiti.
«Diaspora*» nato nel 2010 rappresenta un tentativo significativo in questo senso. I promotori invitano ad installare sulle proprie macchine un server che forma effettivamente un nodo nel sistema. Gli utenti che non lo fanno possono sempre collegarsi ad un nodo di cui si fidano e usarlo come un normale web-server. In questo modo i dati dei vari utenti sono distribuiti in più server che fanno capo a persone o società diverse. Ad ogni modo i dati sono sempre accentrati in un unico punto e, nonostante la censura diventa più difficile ma non impossibile, tuttavia la privacy dei dati privati può essere garantita in un sistema del genere anche se attualmente i dati memorizzati in chiaro. La gerarchia è quindi a due livelli. I vari nodi, che sono tutti pari e posseggono fisicamente i dati; gli utenti che non fanno girare il server e ripongono la loro fiducia nei nodi. Tuttavia chiunque può saltare da un livello all’altro e i nodi non hanno in realtà nessun privilegio aggiuntivo secondo la filosofia del progetto, ma anzi si mettono a disposizione degli altri utenti. A questo modello si ispirano molti altri social network come Movim o Friendica e talvolta i server prendono il nome di ‘pod’.
Nell’estate del 2013 Miguel Freitas, comincia lo sviluppo di Twister, che si differenzia dai sistemi citati in precedenza in quanto è completamente distribuito. L’obiettivo principale è in questo caso ottenere un social network senza possibilità di censura e che garantisca un altissimo livello di privacy. In questo schema tutti i nodi sono uguali e non c’è differenza con gli utenti: ogni client è anche un server. L’autenticazione degli utenti avviene su un registro (chiamato blockchain) di cui ogni utente mantiene una copia, quindi ogni utente può autenticare qualsiasi altro utente.
Il commercio elettronico
Si tratta del commercio di beni o servizi tramite mezzi telematici come Internet. Chiamato più brevemente e-commerce, lo conosciamo nel grande pubblico attraverso due progetti nati nel 1995 e che tutt’ora rappresentano i più grandi negozi online: eBay e Amazon. Il primo nato come sito d’aste ha mantenuto una forma vagamente più somigliante al ‘mercato’ in cui può essere venduto e comprato di tutto. Il secondo invece ha una struttura più simile ad un gigantesco ipermercato. 
Ad oggi esistono molte altre piattaforme di e-commerce specializzate che permettono agli utenti di mettere in vendita i loro prodotti, tutte si basano su una struttura centralizzata e la stragrande maggioranza fa riferimento a servizi bancari esterni per processare i pagamenti. Questo ultimo punto implica che se anche una piattaforma offrisse gratuitamente le proprie vetrine virtuali, la banca potenzialmente potrebbe chiederebbe una commissione sul trasferimento di denaro. Ad oggi non mi risulta esista un servizio gratuito per il commercio online. Paypal, uno dei servizi più usati per il trasferimento di denaro elettronico chiede mediamente il 3% per ogni commissione.
Questo modello oggi è minacciato dall’introduzione di nuove tecnologie che permettono il trasferimento di denaro virtuale pagando commissioni trascurabili o nulle. Queste tecnologie hanno permesso lo sviluppo di mercati online distribuiti come Open Bazaar.
Creato nell’aprile del 2014 esso propone una struttura molto simile a Twister con la differenza di essere stato creato appositamente per il commercio elettronico. Gli utenti possono creare dei contratti tra privati scegliendo un intermediario che ha il compito, in caso di dispute, di decidere se l’acquirente ha diritto ad un rimborso. Inoltre è stato implementato anche un sistema di aste simile ad eBay. In definitiva Open Bazaar offre tutto questo senza necessità di servizi bancari in quanto la moneta è completamente virtuale.
Open Bazaar è nato con il nome di Dark Market in quanto inizialmente si proponeva come successore di punti di vendita online che trafficavano sostanze stupefacenti e altri materiali illegali. Per la sua natura distribuita questo mercato e difficilmente soggetto a censura e non esiste nessun meccanismo interno per vietare a qualcuno di vendere la propria merce. 
Bitcoin
Bitcoin è un sistema monetario virtuale completamente basato sul peer-to-peer. Si tratta di un progetto open source iniziato nel 2009 da autori ignoti riuniti sotto lo pseudonimo di Satoshi Nakamoto. Prima della sua nascita sono stati fatti vari tentativi per creare monete virtuali ma nessuna ha avuto un tale successo. Il motivo è probabilmente da ricercarsi nell’architettura distribuita e altamente innovativa di questo nuovo sistema. Il problema principale che risolve il protocollo di Bitcoin è detto problema del ‘double-spending’ cioè assicurarsi che le monete virtuali non vengano trasferite due volte duplicando la disponibilità finanziaria. La soluzione adottata fino ad allora consisteva nel tenere un registro centrale in una sorta di «zecca» che oltre a distribuire il denaro determinasse una sequenza univoca per le transazioni in modo che la seconda, illegale, venga automaticamente scartata. Questo non era soddisfacente perché riproponeva il modello della banca.
La caratteristica più importante del sistema è la blockchain, una sorta di registro comune in cui vengono memorizzate e convalidate tutte le transazioni monetarie all’interno del sistema. Ogni nodo della rete Bitcoin possiede una copia della blockchain e questo permette di fare a meno di una zecca centrale. La sequenza univoca delle transazioni monetarie è quindi decisa in concerto all’interno della rete ed è quindi facile controllare se i Bitcoin sono già stati spesi. Presto sarà anche chiaro come questi vengano distribuiti tra gli utenti senza necessità di una zecca che li emetta. D’ora in poi indicherò con la parola minuscola ‘bitcoin’ la valuta virtuale per differenziarla dalla rete e protocollo Bitcoin.
Transazioni
Ogni transazione monetaria è composta da ingressi e uscite e quindi rappresenta un flusso monetario. Gli ingressi di una transazione sono l’uscita di precedenti transazioni, siccome ad ogni uscita è associato un valore monetario, ogni ingresso immette nella transazione proprio quel valore. Gli ingressi vengono quindi sommati e questa somma affluisce nelle varie uscite ripartita a piacimento. Ogni uscita contiene informazioni sul nuovo proprietario dei bitcoin e la quantità a lui ripartita. Normalmente la stragrande maggioranza delle transazioni contiene diversi ingressi ma solo due uscite. Un’uscita indica il destinatario mentre l’altra il mittente. Questo perché agli ingressi affluiscono transazioni precedenti indivisibili, ciò è molto analogo a quello che avviene nella realtà, infatti le banconote che abbiamo nel portafoglio sono indivisibili: per pagare un prodotto ne prendiamo un numero tale che la somma sia maggiore del prezzo che dobbiamo pagare, il ‘resto’ gioca il ruolo della seconda uscita in questa analogia. Per essere precisi le transazioni la somma delle due uscite dovrebbe essere uguali alla somma degli ingressi, ma spesso non è così: accade quasi sempre infatti che la somma delle uscite sia leggermente minore della somma delle entrate. Questo perché la differenza si ritiene implicitamente destinata a pagare i costi della transazione. Nel prossimo paragrafo sarà chiarito chi è il destinatario di questi costi.
Proof-of-work
Se la blockchain fosse semplicemente un file condiviso tra tutti i nodi che compongono Bitcoin, non sarebbe chiaro, in caso di un attacco informatico, come distinguere una blockchain autentica da una contraffatta. Inoltre è banale capire che la rete sarebbe estremamente suscettibile ad un attacco in cui parte della rete viene isolata e collegata a nodi disonesti. Se invece il file fosse firmato elettronicamente da qualcuno, bisognerebbe stabilire chi e si ritornerebbe al problema precedente in cui esiste un punto centrale nella rete.
In ogni caso, anche supponendo che non vi siano attacchi e che tutti si comportino onestamente, dovrebbe esistere un modo veloce per decidere quale versione della blockchain tenere e quale scartare in quanto punti distanti della rete potrebbero determinare un ordine delle transazioni diverso.
La proof-of-work ha di fatto risolto questo problema. Esso consiste nel creare una prova che è stata svolta una grande quantità di lavoro ed associare questa prova ad una o più transazioni monetarie. Il lavoro consiste nel calcolare l’hash delle transazioni monetarie concatenate con un hash precedente e un valore detto nonce tale da rendere l’hash di una forma particolare. Un hash con un numero di zeri iniziale alto è difficile da ottenere, ed è proprio questo che in Bitcoin prova che sono stati svolti svariati tentativi di hashing con altrettanti valori diversi prima di ottenerne uno con sufficienti 0 iniziali. Controllare che l’hash sia legittimo è molto semplice una volta ottenuto il nonce. Generarne uno falso, cambiando una transazione ad esempio, richiede però tanto lavoro quanto per creare l’hash originale. Siccome tutti i nodi lavorano insieme e costantemente per generare gli hash, per avere la possibilità di falsificare una transazione, è necessario avere una potenza di calcolo superiore alla somma delle potenze dei nodi onesti. Siccome falsificare una transazione recente richiede di rifare meno lavoro che una transazione più vecchia, i venditori possono, per transazioni molto importanti, attendere che sia passato più tempo. Un nodo che contribuisca alla convalida delle transazioni è detto miner.
L’insieme delle transazioni che vengono convalidate dalla proof-of-work è chiamato blocco (da cui blockchain letteralmente ‘catena di blocchi’). Ogni volta che un nodo trova un nonce tale che l’hash abbia una forma corretta lo inserisce nel blocco e lo invia in broadcast a tutti gli altri nodi. Questi, dopo averne controllato la conformità, esprimono di aver accettato cominciando a lavorare su nuove transazioni concatenate con l’hash del blocco arrivatogli. É da notare come sia normalmente conveniente accettare di lavorare su un nuovo blocco per i nodi in quanto le probabilità di trovare un nonce corretto sono invariate, e il rischio che si corre è invece di continuare a lavorare su un blocco vecchio che verrà sorpassato e quindi scartato dagli altri nodi.
Generare hash in modo continuo ha un costo non solo in termini di tempo ma anche di hardware impegnato e di elettricità consumata. Tuttavia i miner hanno un grande incentivo per partecipare alla convalida delle transazioni, infatti secondo il protocollo l’autore di ogni blocco, ha il diritto di creare una transazione speciale, denominata coinbase, senza ingressi e quindi che crea bitcoin dal nulla; indubbiamente questa transazione può essere destinata a piacimento, al miner stesso oppure donata. Inoltre, come già detto, ogni transazione viene volutamente creata sbilanciata, con ingressi maggiori delle uscite, il rimanente è implicitamente destinato al creatore del blocco, che ha un ulteriore incentivo. Ad oggi il coinbase è di 25 bitcoin cioè circa €12’000, mentre le commissioni variano intorno ai 4 eurocent per transazione. I miner dovrebbero essere incentivati ad includere prioritariamente le transazioni con commissioni più elevate, tuttavia questo nella pratica, per motivi non chiari, non è sempre vero.
BitTorrent
BitTorrent è un protocollo nato per la condivisione di file tramite il peer-to-peer. Creato nel 2001 dallo sviluppatore Bram Cohen, rompeva il vecchio modello secondo il quale un server centrale organizzava i trasferimenti peer-to-peer. In BitTorrent ogni volta che un utente desidera scaricare un file, consulta un nodo speciale detto tracker che fornisce una lista di tutte le persone che posseggono parti di quel file. Chi possiede l’intero file è denominato seeder, chi invece ne possiede solo alcune parti è detto leecher. Per riferirmi ad entrambi in maniera generica userò il termine peer. Questo tipo di organizzazione fa in modo che non esista un server centrale contenente l’elenco completo dei file nella rete, ogni tracker può gestire più file e lo stesso file può essere gestito da più tracker, questo è possibile grazie a tecnologie DHT (Distributed Hash Table) che permettono a ogni client di agire da tracker. BitTorrent ad oggi è usato a tutti i livelli dalla condivisione illegale delle canzoni alla distribuzione legale di videogiochi fino all’emissione da parte dei governi di documenti ufficiali.
Il file torrent
Nel protocollo BitTorrent quando un utente decide di condividere dei file crea un torrent che li rappresenti. Il torrent contiene tutte le informazioni per identificare univocamente i file a livello globale e anche informazioni su come scaricarlo.
In particolare il torrent è un dizionario che contiene due chiavi:
Mentre i torrent tradizionali contengono la chiave announce, quelli trackerless, più recenti, contengono la chiave nodes. Entrambe mappano ad informazioni su come raggiungere gli altri peer, ma mentre announce contiene l’URL del tracker (che quindi fornirà immediatamente la lista degli indirizzi ip dei peer a cui collegarsi) nodes contiene alcuni indirizzi di altri peer a cui collegarsi direttamente. Per lo scopo di questa tesi verrà analizzato, nei paragrafi seguenti, il secondo caso.
La seconda chiave info si riferisce ad un altro dizionario con tutte le informazioni sui file contenuti nel torrent. L’hash di questo dizionario si chiama info-hash ed è una stringa di 20 byte o 160bit. I file vengono inoltre divisi in molti pezzi uguali e l’hash di questi pezzi viene inserito nel torrent. Questo fornisce un meccanismo per identificare unità più piccole dei singoli file e quindi posso richiede parti diverse dello stesso file a più peer in modo parallelo, senza dover aspettare che il file sia completo prima di rilevare un errore di connessione, posso cioè controllare durante lo scaricamento che i pezzi che ottengo mano a mano siano corretti confrontandoli con il loro hash.
In particolare dentro info troviamo le seguenti chiavi:
name: una stringa UTF-8 con un nome suggerito per salvare il file (o la directory)
piece length: il numero di byte per ogni pezzo
pieces: una stringa che concatena gli hash dei pezzi
length XOR files: se si tratta di un solo file, viene apposta la chiave length ne rappresenta la lunghezza, se si tratta di più file nello stesso torrent si trova invece la chiave files che mappa ad un elenco di dizionari :
length: la lunghezza del singolo file
path: la subdirectory in cui si trova il file
Funzionamento del tracking
Tradizionalmente la chiave announce conteneva un URL al quale collegarsi per ricevere una lista di peer che stavano attualmente scaricando il file. Questo era problematico soprattutto perché introduceva una forma di accentramento delle informazioni. Nonostante fosse possibile scaricare tale lista da più tracker, occorreva comunque che i tracker fossero interessati a condividere tale lista.
Con l’introduzione delle tecnologie DHT in BitTorrent, questo non è più necessario. La strategia impiegata è di affiancare alla rete BitTorrent tradizionale, operante soprattutto su connessioni TCP, una rete DHT su UDP utilizzata esclusivamente per distribuire le informazioni di tracking, cioè la lista di peer che partecipano ad un torrent.
Per evitare confusione, si è soliti indicare con ‘peer’ i partecipanti ad un torrent e con ‘nodi’ i client÷server che implementano il protocollo DHT.
Ogni nodo ha un identificatore globale composto da 20 byte o 160 bit, esattamente come l’info-hash. In quest’ottica info-hash e nodi sono lo stesso oggetto e sono indistinguibili nello spazio della DHT. Questi oggetti possono essere vicini o lontani secondo diverse metriche. Attualmente per misurare la distanza tra due oggetti A e B viene usata la metrica XOR introdotta dal DHT innovativo ‘Kademlia’, cioè viene preso il valore assoluto dell’OR esclusivo dei due oggetti, in simboli:
Secondo questa metrica 01001 e 01101 avranno distanza 4, 1101 e 1100 avranno distanza 1. Oltre che essere una metrica molto semplice essa ha interessanti proprietà matematiche: 